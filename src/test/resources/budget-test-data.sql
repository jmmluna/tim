-- CREATE TABLE IF NOT EXISTS `TIM`.`TIM_BUDGETS` (
--  `UUID` UUID NOT NULL,
--  `BUDGET_NUMBER` BIGINT NULL,
--  `DESCRIPTION` VARCHAR(245) NULL,
--  `DATE` DATE NULL,
--  `YEAR` INT NULL,
--  `EXPIRATION_DATE` DATE NULL,
--  PRIMARY KEY (`UUID`),
--  UNIQUE INDEX `BUDGET_NUMBER_UNIQUE` (`BUDGET_NUMBER` ASC));

-- INSERT INTO TIM.TIM_BUDGETS(UUID, BUDGET_NUMBER, DESCRIPTION, DATE, YEAR)  VALUES ('123e4567e89b12d3a456556642440000','30', 'Presupuesto 1', CURRENT_TIMESTAMP(), 2021);    
-- INSERT INTO TIM.TIM_BUDGETS(UUID, BUDGET_NUMBER, DESCRIPTION, DATE, YEAR)  VALUES ('123e4567e89b12d3a456556642440001','40', 'Presupuesto 2', CURRENT_TIMESTAMP(), 2021);
-- INSERT INTO TIM.TIM_BUDGETS(UUID, BUDGET_NUMBER, DESCRIPTION, DATE, YEAR)  VALUES ('123e4567e89b12d3a456556642440002','50', 'Presupuesto 3', CURRENT_TIMESTAMP(), 2021);

--DROP TABLE `TIM`.`TIM_BUDGET_ITEMS`;


--DROP TABLE `TIM`.`TIM_BUDGETS`; 

CREATE TABLE `TIM`.`TIM_BUDGETS` (
  `UUID` UUID NOT NULL,
  `CUSTOMERS_UUID` UUID NOT NULL,
  `BUDGET_NUMBER` BIGINT NULL,
  `DESCRIPTION` VARCHAR(245) NULL,
  `DATE` DATE NULL,
  `YEAR` INT NULL,
  `EXPIRATION_DATE` DATE NULL,
  PRIMARY KEY (`UUID`),
  UNIQUE INDEX `BUDGET_NUMBER_UNIQUE` (`BUDGET_NUMBER` ASC),
  CONSTRAINT `fk_TIM_BUDGETS_TIM_CUSTOMERS1`FOREIGN KEY (`CUSTOMERS_UUID`) REFERENCES `TIM`.`TIM_CUSTOMERS` (`UUID`));


INSERT INTO TIM.TIM_BUDGETS(UUID, CUSTOMERS_UUID, BUDGET_NUMBER, DESCRIPTION, DATE, YEAR)  VALUES ('123e4567e89b12d3a456556642440000', '123e4567e89b12d3a456556642440002' ,'30', 'Presupuesto 1', CURRENT_TIMESTAMP(), 2021);    
INSERT INTO TIM.TIM_BUDGETS(UUID, CUSTOMERS_UUID, BUDGET_NUMBER, DESCRIPTION, DATE, YEAR)  VALUES ('123e4567e89b12d3a456556642440001', '123e4567e89b12d3a456556642440002','40', 'Presupuesto 2', CURRENT_TIMESTAMP(), 2021);
INSERT INTO TIM.TIM_BUDGETS(UUID, CUSTOMERS_UUID, BUDGET_NUMBER, DESCRIPTION, DATE, YEAR)  VALUES ('123e4567e89b12d3a456556642440002', '123e4567e89b12d3a456556642440002','50', 'Presupuesto 3', CURRENT_TIMESTAMP(), 2021);